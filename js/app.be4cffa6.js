(function(t){function e(e){for(var n,o,a=e[0],u=e[1],c=e[2],d=0,m=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,a=1;a<i.length;a++){var u=i[a];0!==r[u]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"3dea":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),i("Search",{on:{onSearchChange:t.onSearchChange}}),i("List",{attrs:{list:t.filteredList,priority:t.priority,sort:t.currentSort,isEmpty:t.listIsEmpty},on:{onAddNewItem:t.addNewItem,onEditItem:t.editItem,onRemoveItem:t.removeItem,onClearAll:t.clearAll,onToggleSort:t.toggleSort}})],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",[i("h1",[t._v("Todo")])])])}],o=(i("4de4"),i("c740"),i("13d5"),i("ac1f"),i("466d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("div",[i("label",[i("i",{staticClass:"fas fa-search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.query},on:{keyup:function(e){return t.$emit("onSearchChange",t.query)},input:function(e){e.target.composing||(t.query=e.target.value)}}})])])])}),a=[],u={name:"Search",data:function(){return{query:null}}},c=u,l=(i("9fc4"),i("2877")),d=Object(l["a"])(c,o,a,!1,null,"1c1b32c3",null),m=d.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("table",[i("thead",[i("tr",[i("th",[t._v(" ITEM "),i("i",{staticClass:"far fa-plus-square add-new-button",on:{click:function(e){return t.setAddItemActive(!0)}}})]),i("th",{staticClass:"priority-toggle",on:{click:function(e){return t.$emit("onToggleSort")}}},[t._v(" PRIORITY "),i("i",{staticClass:"fas",class:{"fa-sort-up":!t.sort,"fa-sort-down":t.sort}})]),i("th",{staticClass:"clear-all-button"},[i("i",{staticClass:"far fa-trash-alt",on:{click:function(e){return t.$emit("onClearAll")}}})])])]),i("tbody",[i("tr",{staticClass:"add-new-row",class:{"add-new-active":t.addItemActive}},[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newItem.text,expression:"newItem.text"}],attrs:{type:"item-text",placeholder:"New todo..."},domProps:{value:t.newItem.text},on:{change:function(e){return t.validateNewItem()},input:function(e){e.target.composing||t.$set(t.newItem,"text",e.target.value)}}})]),i("td",{staticClass:"item-priority"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.newItem.priority,expression:"newItem.priority"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newItem,"priority",e.target.multiple?i:i[0])},function(e){return t.validateNewItem()}]}},[i("option",{attrs:{disabled:"disabled",selected:"selected",value:"undefined"}},[t._v(" Priority... ")]),t._l(t.priority,(function(e,n){return i("option",{key:n,domProps:{value:n}},[t._v(" "+t._s(e)+" ")])}))],2)]),i("td",{staticClass:"remove-button"},[i("i",{staticClass:"fas fa-times",on:{click:function(e){t.setAddItemActive(!1),t.setNewItem({})}}})])]),t._l(t.list,(function(e){return i("tr",{key:e.id},[i("td",{staticClass:"item-text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"item.text"}],attrs:{type:"text"},domProps:{value:e.text},on:{keyup:function(i){return t.$emit("onEditItem",e)},blur:function(e){return t.setEditItemId(null)},input:function(i){i.target.composing||t.$set(e,"text",i.target.value)}}})]),i("td",{staticClass:"item-priority"},[i("p",{directives:[{name:"show",rawName:"v-show",value:t.editItemId!==e.id,expression:"editItemId !== item.id"}],class:["priority-"+e.priority],on:{click:function(i){return t.setEditItemId(e.id)}}},[i("span",[t._v(t._s(t.priority[e.priority]))])]),i("select",{directives:[{name:"model",rawName:"v-model",value:e.priority,expression:"item.priority"},{name:"show",rawName:"v-show",value:t.editItemId===e.id,expression:"editItemId === item.id"}],on:{change:[function(i){var n=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"priority",i.target.multiple?n:n[0])},function(i){t.$emit("onEditItem",e),t.setEditItemId(null)}],blur:function(e){return t.setEditItemId(null)}}},[i("option",{attrs:{disabled:"disabled",value:"undefined"}},[t._v(" Priority... ")]),t._l(t.priority,(function(e,n){return i("option",{key:n,domProps:{value:n}},[t._v(" "+t._s(e)+" ")])}))],2)]),i("td",{staticClass:"remove-button"},[i("i",{staticClass:"fas fa-times",on:{click:function(i){return t.$emit("onRemoveItem",e.id)}}})])])})),t.isEmpty?i("tr",[t._m(0)]):t._e()],2)])])},p=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{attrs:{colspan:"3"}},[i("p",[t._v("Well done! You've completed all your todos.")])])}],h={name:"List",props:["list","isEmpty","priority","sort"],data:function(){return{newItem:{},addItemActive:!1,editItemId:null}},methods:{setEditItemId:function(t){this.editItemId=t},setNewItem:function(t){this.newItem=t},setAddItemActive:function(t){this.addItemActive=t,setTimeout((function(){!0===t&&document.querySelector('.add-new-row input[type="text"]').focus()}))},validateNewItem:function(){""!==this.newItem.text&&void 0!==this.newItem.text&&void 0!==this.newItem.priority&&(this.$emit("onAddNewItem",this.newItem),this.setAddItemActive(!1),this.setNewItem({}))}}},v=h,y=(i("8bc9"),Object(l["a"])(v,f,p,!1,null,"38d26a14",null)),I=y.exports,w=[{id:0,text:"Call Mum",priority:0},{id:1,text:"Find a new job",priority:2},{id:2,text:"Go to the pub",priority:1}],g=["Meh","Important","Life changing"],x={name:"App",components:{Search:m,List:I},data:function(){return{list:[],filteredList:null,nextUniqueId:null,priority:g,searchQuery:null,newItem:{},currentSort:!0,listIsEmpty:!0}},methods:{setList:function(t){this.list=t,this.setFilteredList(t),this.setLocalStorage(t),this.setListIsEmpty(0===t.length)},setFilteredList:function(t){this.filteredList=t,this.filterBySearch(this.searchQuery)},setSearchQuery:function(t){this.searchQuery=t},setNewItem:function(t){this.newItem=t},setNextUniqueId:function(t){this.nextUniqueId=t},setSort:function(t){this.currentSort=t,this.currentSort?this.filteredList.sort((function(t,e){return e.priority-t.priority})):this.filteredList.sort((function(t,e){return t.priority-e.priority}))},setListIsEmpty:function(t){this.listIsEmpty=t},setLocalStorage:function(t){localStorage.setItem("todoList",JSON.stringify(t))},incrementNextUniqueId:function(){this.nextUniqueId+=1},onSearchChange:function(t){this.setSearchQuery(t),this.filterBySearch(t)},addNewItem:function(t){var e=this.list;t.id=this.nextUniqueId,this.incrementNextUniqueId(),e.push(t),this.setList(e),this.setNewItem({}),this.setSort(this.currentSort)},editItem:function(t){var e=this.list,i=e.findIndex((function(e){return e.id===t.id}));e[i]=t,this.setList(e),this.setSort(this.currentSort)},removeItem:function(t){var e=this.list;e=e.filter((function(e){return e.id!==t})),this.setList(e)},clearAll:function(){confirm("This will delete all items in the list. Are you sure you want to continue?")&&this.setList([])},toggleSort:function(){this.setSort(!this.currentSort)},filterBySearch:function(t){null!==t&&""!==t?(t=t.toUpperCase(),this.filteredList=this.list.filter((function(e){return e.text.toUpperCase().match(t)}))):this.filteredList=this.list}},created:function(){var t=JSON.parse(localStorage.getItem("todoList"))||[],e=t.length>0?t:w,i=e.reduce((function(t,e){return e.id>=t.id?e:t})).id;this.setNextUniqueId(i),this.incrementNextUniqueId(),this.setList(e),this.setListIsEmpty(!1),this.setSort(this.currentSort)}},b=x,S=(i("5c0b"),Object(l["a"])(b,r,s,!1,null,null,null)),_=S.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(_)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var n=i("9c0c"),r=i.n(n);r.a},"8bc9":function(t,e,i){"use strict";var n=i("3dea"),r=i.n(n);r.a},"9c0c":function(t,e,i){},"9fc4":function(t,e,i){"use strict";var n=i("f94f"),r=i.n(n);r.a},f94f:function(t,e,i){}});
//# sourceMappingURL=app.be4cffa6.js.map